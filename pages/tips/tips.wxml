<!-- pages/tips/tips.wxml -->
<view class="container">
  <!-- æœç´¢åŒºåŸŸ -->
  <view class="search-container">
    <input 
      class="search-input" 
      placeholder="è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜å…³é”®è¯" 
      placeholder-class="placeholder-style"
      value="{{searchValue}}" 
      bindinput="handleInputChange"
      confirm-type="search"
      bindconfirm="handleSearch"
    />
    <button 
      class="search-btn" 
      bindtap="handleSearch"
      hover-class="button-hover"
    >æœç´¢</button>
    <button 
      wx:if="{{isSearching}}" 
      class="clear-btn" 
      bindtap="handleClearSearch"
      hover-class="button-hover"
    >æ¸…é™¤</button>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading-container">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>
  
  <!-- é”™è¯¯æç¤º -->
  <view wx:if="{{error}}" class="error-container">
    <text class="error-icon">!</text>
    <text class="error-text">{{error}}</text>
  </view>
  
  <!-- æ–‡ç« åˆ—è¡¨ -->
  <view wx:if="{{!loading && !error}}" class="article-list">
    <view wx:if="{{articles.length === 0}}" class="empty-container">
      <text class="empty-icon">{{isSearching ? "ğŸ”" : "ğŸ“„"}}</text>
      <text class="empty-text">
        {{isSearching ? 'æ²¡æœ‰æ‰¾åˆ°ç›¸å…³æ–‡ç« ' : 'æš‚æ— æ–‡ç« ï¼Œç¨åå†æ¥çœ‹çœ‹å§'}}
      </text>
    </view>
    
    <block wx:else>
      <view 
        wx:for="{{articles}}" 
        wx:key="id" 
        class="article-item" 
        bindtap="goToDetail" 
        data-id="{{item.id}}"
      >
        <view class="article-title">{{item.title}}</view>
        <view class="article-info">
          <view class="article-meta">
            <text class="meta-icon">ğŸ‘¤</text>
            <text class="meta-text">{{item.author_name || 'æœªçŸ¥ä½œè€…'}}</text>
          </view>
          <view class="article-meta">
            <text class="meta-icon">ğŸ•’</text>
            <text class="meta-text">{{item.updated_time || 'æœªçŸ¥æ—¶é—´'}}</text>
          </view>
        </view>
      </view>
    </block>
  </view>
</view>